[gd_scene load_steps=11 format=3 uid="uid://dhdwe3gwf53vh"]

[ext_resource type="Script" path="res://Levels/Puzzle Objects/PulleyPlatform/PulleyPlatform.gd" id="1_3hmd0"]
[ext_resource type="Script" path="res://Levels/Puzzle Objects/WeightCounter/WeightCounter.gd" id="2_gexlt"]
[ext_resource type="Script" path="res://Levels/Puzzle Objects/PulleyPlatform/PlatformTool.gd" id="3_7aulv"]
[ext_resource type="Texture2D" uid="uid://dhlp0cjo4n0wh" path="res://Levels/Puzzle Objects/PulleyPlatform/PulleyPlatform.aseprite" id="3_fw0bk"]
[ext_resource type="Texture2D" uid="uid://d2hov2yj52fch" path="res://Levels/Puzzle Objects/PulleyPlatform/PulleyAnchor.aseprite" id="4_j7ln6"]
[ext_resource type="AudioStream" uid="uid://bl22m4p1v8s8l" path="res://Levels/Puzzle Objects/PulleyPlatform/Move.wav" id="6_huydd"]
[ext_resource type="Script" path="res://Levels/Puzzle Objects/PulleyPlatform/PulleySFX.gd" id="6_ltaqn"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_m5aj6"]
size = Vector2(48, 3)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wp3pu"]
size = Vector2(48, 7)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_riyfy"]
size = Vector2(48, 8)

[node name="PulleyPlatform" type="Node2D" node_paths=PackedStringArray("LeftPlatformAnchor", "RightPlatformAnchor", "LeftWeightCounter", "RightWeightCounter", "CenterPolygon2D", "LeftPolygon2D", "RightPolygon2D")]
script = ExtResource("1_3hmd0")
LeftHeight = 90.0
LeftPlatformAnchor = NodePath("Left/Platform/AnimatableBody2D")
RightPlatformAnchor = NodePath("Right/Platform/AnimatableBody2D")
LeftWeightCounter = NodePath("Left/Platform/RigidBody2D/WeightCounter")
RightWeightCounter = NodePath("Right/Platform/RigidBody2D/WeightCounter")
CenterPolygon2D = NodePath("CenterRope")
LeftPolygon2D = NodePath("Left/LeftRope")
RightPolygon2D = NodePath("Right/RightRope")

[node name="Left" type="Node2D" parent="."]
position = Vector2(-40, 0)

[node name="Platform" type="Node2D" parent="Left"]

[node name="AnimatableBody2D" type="AnimatableBody2D" parent="Left/Platform"]
collision_layer = 0
collision_mask = 0

[node name="DampedSpringJoint2D" type="DampedSpringJoint2D" parent="Left/Platform"]
node_a = NodePath("../AnimatableBody2D")
node_b = NodePath("../RigidBody2D")
length = 100.0
stiffness = 64.0

[node name="RigidBody2D" type="RigidBody2D" parent="Left/Platform"]
mass = 0.1
lock_rotation = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Left/Platform/RigidBody2D"]
position = Vector2(0, 5)
shape = SubResource("RectangleShape2D_m5aj6")
one_way_collision_margin = 0.0

[node name="WeightCounter" type="Area2D" parent="Left/Platform/RigidBody2D"]
collision_mask = 7
script = ExtResource("2_gexlt")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Left/Platform/RigidBody2D/WeightCounter"]
position = Vector2(0, -0.5)
shape = SubResource("RectangleShape2D_wp3pu")

[node name="Sprite2D" type="Sprite2D" parent="Left/Platform/RigidBody2D"]
position = Vector2(0, 4)
texture = ExtResource("3_fw0bk")

[node name="LeftRope" type="Polygon2D" parent="Left"]
color = Color(0.168627, 0.105882, 0.0784314, 1)

[node name="Sprite2D" type="Sprite2D" parent="Left"]
z_index = 1
texture = ExtResource("4_j7ln6")

[node name="Right" type="Node2D" parent="."]
position = Vector2(40, 0)

[node name="Platform" type="Node2D" parent="Right"]

[node name="AnimatableBody2D" type="AnimatableBody2D" parent="Right/Platform"]
collision_layer = 0
collision_mask = 0

[node name="DampedSpringJoint2D" type="DampedSpringJoint2D" parent="Right/Platform"]
node_a = NodePath("../AnimatableBody2D")
node_b = NodePath("../RigidBody2D")
length = 100.0
stiffness = 64.0

[node name="RigidBody2D" type="RigidBody2D" parent="Right/Platform"]
mass = 0.1
lock_rotation = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Right/Platform/RigidBody2D"]
position = Vector2(0, 4.5)
shape = SubResource("RectangleShape2D_m5aj6")
one_way_collision_margin = 0.0

[node name="WeightCounter" type="Area2D" parent="Right/Platform/RigidBody2D"]
collision_mask = 7
script = ExtResource("2_gexlt")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Right/Platform/RigidBody2D/WeightCounter"]
position = Vector2(0, -1)
shape = SubResource("RectangleShape2D_riyfy")

[node name="Sprite2D" type="Sprite2D" parent="Right/Platform/RigidBody2D"]
position = Vector2(0, 4)
texture = ExtResource("3_fw0bk")

[node name="RightRope" type="Polygon2D" parent="Right"]
color = Color(0.168627, 0.105882, 0.0784314, 1)

[node name="Sprite2D" type="Sprite2D" parent="Right"]
z_index = 1
texture = ExtResource("4_j7ln6")

[node name="CenterRope" type="Polygon2D" parent="."]
color = Color(0.168627, 0.105882, 0.0784314, 1)

[node name="EditorTool" type="Node2D" parent="." node_paths=PackedStringArray("LeftPlatform", "RightPlatform", "Platform")]
script = ExtResource("3_7aulv")
LeftPlatform = NodePath("../Left")
RightPlatform = NodePath("../Right")
Platform = NodePath("..")

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="." node_paths=PackedStringArray("PulleyPlatformNode")]
stream = ExtResource("6_huydd")
autoplay = true
bus = &"SFX"
script = ExtResource("6_ltaqn")
PulleyPlatformNode = NodePath("..")
